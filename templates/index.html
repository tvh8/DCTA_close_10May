<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha384-k6D8Lz7l7gD1wMg1hnpGvT4mi3q4p9A7BfLs5bJw6thlGmlkU7V2FQ6Uqrt7lU0A" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.min.js" integrity="sha384-cn7l7gDp0eyniUwwAZgrzD06kc/tftFf19TOAs2zVinnD/C7E91j9yyk5//jjpt/" crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.5/css/dataTables.bootstrap5.min.css" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <script type="text/javascript" src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.11.5/js/dataTables.bootstrap5.min.js"></script>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
  </head>
  <body>
    <div class="container-fluid h-100">
      <div class="row h-100">
        <!-- Left Column (Recently Introduced and Recent Actions) -->
        <div class="col-lg-4 left-col">
          <!-- Recently Introduced -->
          <div class="row h-50">
            <div class="col-12 border p-3 recently-introduced-container">
              <div class="d-flex flex-column h-100">
                <h2 class="sticky-heading">Recently Introduced</h2>
                <!-- Recently Introduced Table -->
                <div class="table-container">
                  <table class="table table-striped table-hover recently-introduced" id="recently-introduced-table">
                    <thead class="sticky-header">
                      <tr>
                        <th scope="col">Bill #</th>
                        <th scope="col">St</th>
                        <th scope="col">Short Subject</th>
                        <th scope="col">Introduced</th>
                      </tr>
                    </thead>
                    <tbody id="recently-introduced-table-body">
                      <!-- Body Populates -->
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
          <!-- Recent Actions -->
          <div class="row h-50">
            <div class="col-12 border p-3 recent-actions-container">
              <div class="d-flex flex-column h-100">
                <h2 class="sticky-heading">Recent Actions</h2>
                <!-- Recent Actions Table -->
                <div class="table-container">
                  <table class="table table-striped table-hover recent-actions">
                      <thead class="sticky-header">
                        <tr>
                          <th scope="col">Bill #</th>
                          <th scope="col">St</th>
                          <th scope="col">Short Subject</th>
                          <th scope="col">Latest Action</th>
                        </tr>
                      </thead>
                      <tbody id="recent-actions-table-body">
                        <!-- Body Populates -->
                      </tbody>
                    </table>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Middle Column (Bill Data) -->
        <div class="col-lg-4 middle-col">
          <div class="row h-40">
            <div class="col-md-12">
              <h2>Bill Data <button id="latestBillBtn" class="btn btn-primary">View Latest Bill</button> <button id="openStatesBtn" class="btn btn-secondary">Open States</button>
              </h2>
              <div class="card">
                <div class="card-body">
                  <h3 class="card-title">Selected Bill #: <span id="selectedBillNumber"></span></h3>
                     <p class="card-text">
                      <strong>State:</strong> <span id="selectedBillState"></span><br>
                      <strong>Session:</strong> <span id="selectedBillSession"></span><br>
                      <strong>Introduced:</strong> <span id="selectedBillIntroduced"></span><br>
                      <strong>Latest Action:</strong> <span id="selectedBillLatestAction"></span><br>
                      <strong>Latest Action Date:</strong> <span id="selectedBillLatestActionDate"></span><br>
                      <strong>Primary Sponsor:</strong> <span id="selectedBillPrimarySponsor"></span><br>
                      <strong>Subject:</strong> <span id="selectedBillSubject"></span>
                    </p>
                 </div>
                </div>
            </div>
          </div>
          <div class=row h-60>
            <div class="col-md-12">
              <div class="tab">
                <button class="tablinks" onclick="openTab(event, 'summary')" id="defaultOpen">Summary</button>
                <button class="tablinks" onclick="openTab(event, 'crypto-impact')">Crypto Impact</button>
                <button class="tablinks" onclick="openTab(event, 'dcta-analysis')">DCTA Analysis</button>
                <button class="tablinks" onclick="openTab(event, 'letter')">Letter</button>
              </div>
              <div id="summary" class="tabcontent">
                <h3>Summary <button id="analyzeBtn" type="button" class="btn btn-primary">
                            Analyze Bill <i id="analyzeSpinner" class="fas fa-spinner fa-spin d-none"></i>
                            </button>
                </h3>
                <h6>Last Updated:</h6>
                <p>Content for the Summary tab goes here.</p>
              </div>
              <div id="crypto-impact" class="tabcontent">
                <h3>Crypto Impact</h3>
                <h6>Last Updated:</h6>
                <p>Content for the Crypto Impact tab goes here.</p>
              </div>
              <div id="dcta-analysis" class="tabcontent">
                <h3>DCTA Analysis</h3>
                <h6>Last Updated:</h6>
                <p>Content for the DCTA Analysis tab goes here.</p>
              </div>
              <div id="letter" class="tabcontent">
                <h3>Letter <button id="createLetterbtn" class="btn btn-primary">Create Letter</button>
                </h3>
                <p>Content for the Letter tab goes here.</p>
              </div>
            </div>
          </div>
        </div>
        <!-- Right Column (Search) -->
        <div class="col-lg-4 right-col">
            <div class="row">
              <div class="col-12 border p-3">
                <h5>Last Updated: <p id="last-updated"> </p>
                </h5>
                <h2>Search
                </h2>
                <input type="text" id="search-input" class="form-control" placeholder="Search...">
                <button id="search-button" class="btn btn-primary mt-2">Search</button>
              </div>
            </div>
            <div class="row">
              <div class="col-12 border p-3">
                <h2>Search Results</h2>
                <div class="search-results-container">
                  <table class="table table-striped table-hover" id="search-results-table">
                      <!-- Your search results table structure -->
                      <thead>
                        <tr>
                          <th scope="col" class="sortable">Bill #</th>
                          <th scope="col" class="sortable">State</th>
                          <th scope="col" class="sortable">Subject</th>
                          <th scope="col">Latest Action</th>
                        </tr>
                      </thead>
                      <tbody>
                        <!-- The table body will be populated by JavaScript -->
                      </tbody>
                    </table>
                </div>
              </div>
            </div>
          </div>
      </div>
    </div>
  </body>
</html>